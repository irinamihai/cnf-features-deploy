{
  "spec": {
    "controller": {
      "resources": {
        "limits": {
          "cpu": "16",
          "memory": "32Gi"
        },
        "requests": {
          "cpu": "1",
          "memory": "2Gi"
        }
      }
    },
    "kustomizeBuildOptions": "--enable-alpha-plugins",
    "repo": {
      "env": [
        {
          "name": "ARGOCD_EXEC_TIMEOUT",
          "value": "360s"
        },
        {
          "name": "KUSTOMIZE_PLUGIN_HOME",
          "value": "/.config/kustomize/plugin"
        }
      ],
      "initContainers": [
        {
          "terminationMessagePath": "/dev/termination-log",
          "name": "kustomize-plugin",
          "command": [
            "/exportkustomize.sh"
          ],
          "imagePullPolicy": "Always",
          "volumeMounts": [
            {
              "mountPath": "/.config",
              "name": "kustomize"
            }
          ],
          "terminationMessagePolicy": "File",
          "image": "quay.io/openshift-kni/ztp-site-generator:latest",
          "args": [
            "/.config"
          ]
        },
        {
          "args": [
            "-c",
            "mkdir -p /.config/kustomize/plugin/ && cp -r /etc/kustomize/plugin/policy.open-cluster-management.io /.config/kustomize/plugin/"
          ],
          "command": [
            "/bin/bash"
          ],
          "image": "registry.redhat.io/rhacm2/multicluster-operators-subscription-rhel8:v2.8",
          "imagePullPolicy": "Always",
          "name": "policy-generator-install",
          "volumeMounts": [
            {
              "mountPath": "/.config",
              "name": "kustomize"
            }
          ]
        }
      ],
      "resources": {
        "limits": {
          "cpu": "8",
          "memory": "16Gi"
        },
        "requests": {
          "cpu": "1",
          "memory": "2Gi"
        }
      },
      "sidecarContainers": [
        {
          "command": [
            "/var/run/argocd/argocd-cmp-server"
          ],
          "image": "quay.io/openshift-kni/ztp-site-generator:latest",
          "name": "sc-plugin-config",
          "volumeMounts": [
            {
              "mountPath": "/var/run/argocd",
              "name": "var-files"
            },
            {
              "mountPath": "/home/argocd/cmp-server/plugins",
              "name": "plugins"
            },
            {
              "mountPath": "/home/argocd/cmp-server/config/plugin.yaml",
              "name": "sc-plugin-config",
              "subPath": "plugin.yaml"
            },
            {
              "mountPath": "/tmp",
              "name": "tmp"
            }
          ]
        }
      ],
      "volumeMounts": [
        {
          "mountPath": "/.config",
          "name": "kustomize"
        }
      ],
      "volumes": [
        {
          "configMap": {
            "name": "sc-plugin-config"
          },
          "name": "sc-plugin-config"
        },
        {
          "emptyDir": {},
          "name": "kustomize"
        }
      ]
    }
  }
}